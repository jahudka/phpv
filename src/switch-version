if [[ "$#" -lt "1" ]]; then
  echo 'Usage: phpv <default|latest|$version>'
  return 1
fi

case "$1" in
  default|latest)
    version="${PHPV_LATEST_VERSION}"
    ;;
  *)
    version="$1"
    ;;
esac

export PATH="$( brew --prefix "php@${version}" )/bin:$( sed -E 's~(^|:)[^:]+/php@[0-9].[0-9]/bin:~\1~g' <<< "${PATH}" )"
export PHPV_CURRENT_VERSION="${version}"

if [[ "$2" != "--silent" ]]; then
  php -v
fi
